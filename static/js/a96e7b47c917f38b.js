(self["webpackChunkkafka_pages"]=self["webpackChunkkafka_pages"]||[]).push([[587],{8344:function(e,t,l){"use strict";l.r(t);var a=l(5020),o=l.n(a),r=l(6805),n=l.n(r),u=n()(o());u.push([e.id,".common-layout .el-header,.common-layout .el-footer,.common-layout .el-main,.common-layout .el-aside{display:flex;justify-content:center;align-items:center}.common-layout .el-header,.common-layout .el-footer{color:var(--el-text-color-primary);text-align:center;height:40px}.common-layout .el-aside{background-color:var(--el-color-primary-light-8);color:var(--el-text-color-primary);text-align:center}.common-layout .el-main{background-color:#e7e7e7;color:var(--el-text-color-primary);text-align:center;min-height:400px}",""]),t["default"]=u},9829:function(e,t,l){"use strict";l.d(t,{Gu:function(){return r},ug:function(){return o}});l(1531),l(3678),l(4145),l(897);var a=l(9386);function o(){return new Promise(((e,t)=>{setTimeout((()=>e({data:{username:"userName",gender:"DEI",email:"userName@email.abc.foo",phoneNo:"0987654321"}})),100)}))}function r(e){const t="";return(0,a.A)({url:`${t}/familymart/${encodeURI(e)}.json`,method:"get"})}},7932:function(e,t,l){var a=l(8344);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var o=l(9434).A;o("2d6de031",a,!1,{sourceMap:!1,shadowMode:!1})},9587:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return h}});var a=l(4802),o=(l(2319),l(9513),l(1864)),r=(l(3072),l(1957)),n=(l(8672),l(9512)),u=(l(4158),l(3920)),s=(l(9929),l(3523),l(4783),l(9138),l(6430)),i=l(1556),c=l(9829);const v={class:"common-layout"},d={style:{padding:"20px"}},f={style:{width:"90%",height:"480px","max-width":"600px","justify-content":"center"}},m=["src"];var g={__name:"wq_selector",emits:["select-store"],setup(e,{emit:t}){(0,i.Pj)();const l=(0,s.KR)(""),g=(0,s.KR)(""),p=(0,s.KR)([]),h=(0,s.KR)(""),y=[{value:"臺北市"},{value:"基隆市"},{value:"新北市"},{value:"連江縣"},{value:"宜蘭縣"},{value:"新竹市"},{value:"新竹縣"},{value:"桃園市"},{value:"苗栗縣"},{value:"臺中市"},{value:"彰化縣"},{value:"南投縣"},{value:"嘉義市"},{value:"嘉義縣"},{value:"雲林縣"},{value:"臺南市"},{value:"高雄市"},{value:"南海島"},{value:"澎湖縣"},{value:"金門縣"},{value:"屏東縣"},{value:"臺東縣"},{value:"花蓮縣"}],b=(0,s.KR)({cityId:"",storeId:"",name:"",address:"",telno:"",geocoord:{lat:25.03419,lng:121.56452}}),k=t,x=()=>{p.value=[],g.value="",h.value=""},w=e=>{console.log("onCitySelect:",l.value),C(l.value)},_=e=>{console.log("onStoreSelect:",g.value,p.value[g.value].geocoord),b.value=p.value[g.value],b.value.geocoord&&(h.value=`https://maps.google.com/maps?q=${b.value.geocoord.lat},${b.value.geocoord.lng}&output=embed`)},S=e=>{if(console.log("onSelConform:",g.value),e){if(isNaN(g.value)||g.value>=p.value.length)return;b.value.cityId=l.value,k("select-store",b.value)}else k("select-store",null)},C=async e=>{let t=e.replace("臺","台");console.log(`a city: ${t}`),x(),(0,c.Gu)(t).then((e=>{if(e&&e.city_name)for(let t=0;t<e.stores.length;t++){let l={storeId:e.stores[t].pkey,name:e.stores[t].NAME,address:e.stores[t].addr,telno:e.stores[t].TEL,geocoord:{lat:e.stores[t].py,lng:e.stores[t].px}};p.value.push(l)}})).catch((e=>{console.log("ERR:",e)}))};return(0,s.sV)((()=>{})),(0,s.xo)((()=>{})),(e,t)=>{const i=a.bZ,c=u.P9,b=u.AV,k=n.uD,x=r.S2,C=o.S2,F=a.lX;return(0,s.uX)(),(0,s.CE)("div",v,[(0,s.bF)(F,{class:"pageContent"},{default:(0,s.k6)((()=>[(0,s.bF)(i,{class:"headerTitle"},{default:(0,s.k6)((()=>t[4]||(t[4]=[(0,s.Lk)("p",null,"請選擇欲取號門市",-1)]))),_:1}),(0,s.bF)(x,{justify:"center",gutter:2},{default:(0,s.k6)((()=>[(0,s.bF)(k,{span:8},{default:(0,s.k6)((()=>[(0,s.bF)(b,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),placeholder:"地區",size:"large",filterable:"",onChange:w},{default:(0,s.k6)((()=>[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(y,(e=>(0,s.bF)(c,{key:e.value,label:e.value,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1}),(0,s.bF)(k,{span:14},{default:(0,s.k6)((()=>[(0,s.bF)(b,{modelValue:g.value,"onUpdate:modelValue":t[1]||(t[1]=e=>g.value=e),placeholder:"門市地址",size:"large",filterable:"",onChange:_},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(p.value,((e,t)=>((0,s.uX)(),(0,s.Wv)(c,{key:e.storeId,label:e.name+" - "+e.address,value:t},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,s.bF)(x,{justify:"center"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",d,[(0,s.bF)(C,{type:"primary",class:"xlbtn",onClick:t[2]||(t[2]=e=>S(!0))},{default:(0,s.k6)((()=>t[5]||(t[5]=[(0,s.eW)(" 確 定 ")]))),_:1}),(0,s.bF)(C,{type:"primary",class:"xlbtn",onClick:t[3]||(t[3]=e=>S(!1))},{default:(0,s.k6)((()=>t[6]||(t[6]=[(0,s.eW)(" 取 消 ")]))),_:1})])])),_:1}),(0,s.bF)(x,{justify:"center"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",f,[t[7]||(t[7]=(0,s.Lk)("span",null,"地圖",-1)),h.value.length>5?((0,s.uX)(),(0,s.CE)("iframe",{key:0,width:"100%",height:"90%",style:{border:"0"},loading:"lazy",allowfullscreen:"",referrerpolicy:"no-referrer-when-downgrade",src:h.value},null,8,m)):(0,s.Q3)("v-if",!0)])])),_:1})])),_:1})])}}};l(7932);const p=g;var h=p},1179:function(e,t,l){"use strict";var a=l(3724),o=l(3749),r=l(9872),n=l(5811),u=n("toStringTag"),s=Object,i="Arguments"===r(function(){return arguments}()),c=function(e,t){try{return e[t]}catch(l){}};e.exports=a?r:function(e){var t,l,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(l=c(t=s(e),u))?l:i?r(t):"Object"===(a=r(t))&&o(t.callee)?"Arguments":a}},8986:function(e,t,l){"use strict";var a=l(1147),o=l(1601);e.exports=function(e,t,l){return l.get&&a(l.get,t,{getter:!0}),l.set&&a(l.set,t,{setter:!0}),o.f(e,t,l)}},3724:function(e,t,l){"use strict";var a=l(5811),o=a("toStringTag"),r={};r[o]="z",e.exports="[object z]"===String(r)},687:function(e,t,l){"use strict";var a=l(1179),o=String;e.exports=function(e){if("Symbol"===a(e))throw new TypeError("Cannot convert a Symbol value to a string");return o(e)}},7900:function(e){"use strict";var t=TypeError;e.exports=function(e,l){if(e<l)throw new t("Not enough arguments");return e}},1531:function(e,t,l){"use strict";var a=l(8552),o=l(2608),r=l(687),n=l(7900),u=URLSearchParams,s=u.prototype,i=o(s.append),c=o(s["delete"]),v=o(s.forEach),d=o([].push),f=new u("a=1&a=2&b=3");f["delete"]("a",1),f["delete"]("b",void 0),f+""!=="a=2"&&a(s,"delete",(function(e){var t=arguments.length,l=t<2?void 0:arguments[1];if(t&&void 0===l)return c(this,e);var a=[];v(this,(function(e,t){d(a,{key:t,value:e})})),n(t,1);var o,u=r(e),s=r(l),f=0,m=0,g=!1,p=a.length;while(f<p)o=a[f++],g||o.key===u?(g=!0,c(this,o.key)):m++;while(m<p)o=a[m++],o.key===u&&o.value===s||i(this,o.key,o.value)}),{enumerable:!0,unsafe:!0})},3678:function(e,t,l){"use strict";var a=l(8552),o=l(2608),r=l(687),n=l(7900),u=URLSearchParams,s=u.prototype,i=o(s.getAll),c=o(s.has),v=new u("a=1");!v.has("a",2)&&v.has("a",void 0)||a(s,"has",(function(e){var t=arguments.length,l=t<2?void 0:arguments[1];if(t&&void 0===l)return c(this,e);var a=i(this,e);n(t,1);var o=r(l),u=0;while(u<a.length)if(a[u++]===o)return!0;return!1}),{enumerable:!0,unsafe:!0})},4145:function(e,t,l){"use strict";var a=l(2444),o=l(2608),r=l(8986),n=URLSearchParams.prototype,u=o(n.forEach);a&&!("size"in n)&&r(n,"size",{get:function(){var e=0;return u(this,(function(){e++})),e},configurable:!0,enumerable:!0})}}]);